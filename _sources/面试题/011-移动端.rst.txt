11 移动端
=========

|image1|

**android怎么抓取闪退日志的？**

::

   adb logcat -v time > logcat.log
   抓取日志到当前路径下logcat.log文件

**App应用启动和使用过程中有哪些测试点？**

::

   启动应用，预加载应用，重启应用，静置应用，进入页面，来回滑动页面。

**用户体感时长有哪些？**

::

   渲染时长、可交互时长、可流畅交互时长。

**0点后会发生什么？0点用户的真实体验如何？**

::

   氛围能否正确切换；隐藏的价格是否会出现；定时的模块能否透出。
   在各种大图片，会场，动画，动效，游戏中徜徉的用户，内存还好吗？手机滚烫吗？会崩溃吗？

**移动应用在升级安装时候应该考虑的场景？**

::

   APP有新版本时，打开APP是否有更新提示。
   当版本为非强制升级版时，用户可以取消更新，老版本能正常使用。用户在下次启动app时，仍能出现更新提示。
   当版本为强制升级版时，当给出强制更新后用户没有做更新时，退出APP。下次启动app时，仍出现强制升级提示。
   不删除APP直接更新，检查是否能正常更新，更新后能否正常工作。
   删除老的APP，重新下载APP，能不能正常工作。
   检查更新后的APP和新安装的APP提供的功能一样。
   检查在线跨版本升级能否成功，版本过老是否提示用户重装。
   更新成功后，用户数据有没有丢失，各个配置项是否还原。

**应用的闪退通常是什么原因造成的？**

::

   缓存垃圾过多
   内存不足
   版本兼容问题

**移动应用的灰度是怎么做的？**

::

   先对部分用户推送升级。
   一般选取Android作为灰度平台，appstore不支持灰度。
   做好数据打点。
   做好版本控制。
   灰度回收能力。

**你是如何做App应用的兼容性测试的？**

::

   各个机型
   各个系统、各个系统版本
   手机、平板
   云测平台
   云测服务

**如何判断 Android 手机上是否安装了某个应用包？**

::

   packageManager.getInstalledPackages(0);  // 获取所有已安装程序

**UI自动化用例中如何切换Android原生页面和H5页面？**

::

   driver.switch_to.context()

**移动端稳定性测试方法？**

::

   单线程
   多线程
   前台/后台频繁调用
   持续批量压力测试
   随机接口并发组合
   接口异常数据注入

**adb命令？**

::

   adb devices  查看目前连接电脑的Android设备
   adb reboot  重启手机
   adb uninstall com.example.myapp  卸载手机已安装的应用
   adb install gen.apk  安装应用
   adb pull /sdcard/gen.apk  将手机文件“/sdcard/gen.apk”拉到电脑，存放位置在adb工具目录下
   adb push gen.apk /sdcard/ 将adb工具目录下电脑文件“gen.apk”推到手机，存放位置sdcard根目录下
   adb shell cat /proc/cpuinfo  获取CPU型号等信息
   adb shell screencap /sdcard/screen.png  屏幕截图
   adb shell screenrecord /sdcard/demo.mp4  录制屏幕

**App测试和Web测试有什么区别?**

::

   性能测试，App测试中还需要考虑耗电量测试。
   兼容性测试，WEB端是兼容浏览器，App端兼容的是手机设备。
   安装测试，App测试是存在客户端层面的安装测试。
   App测试有一些手机设备的专项测试。如交叉事件测试，操作类型测试，网络测试（弱网测试，网络切换）。
   如果APP测试修改了服务器端，意味着客户端用户所使用的核心版本都需要进行回归测试一遍。
   升级测试，升级测试的提醒机制，升级取消是否会影响原有功能的使用，升级后用户数据是否被清除了。

   延伸：
   交叉事件测试，就是在操作某个软件的时候，来电话、来短信、电量不足提示等外部事件。
   操作类型测试，如横屏测试、手势测试。
   网络测试，包含弱网和网络切换测试。需要测试弱网所造成的用户体验，重点要考虑回退和刷新是否会造成二次提交。

**冷热启动的区别？**

::

   冷启动：在个人电脑中，冷启动是切断电源后重新启动。App类似，就是完全退出（不在后台运行）后重启启动。
   热启动：非冷启动情况都可以称为热启动。热启动比冷启动多了一个触发点，那就是在后台启动App，比如双击苹果的HOME键，进行App的热启动。同时热启动通常会有一个计时器，特别是一些理财和银行的类的App会做此处理，当你间隔一段时间触发了热启动后，会让你再次登录（通过密码/手势/指纹）。也有比如网易新闻客户端这样的，当你间隔一段时间后触发热启动，会弹出广告页。

**APP自动化中，Jenkins主要负责哪些事情？**

::

   版本控制（可以选择指定版本运行用例）
   定时任务，每日构建
   启动模拟器，关闭模拟器
   检查设备连接状态
   安装卸载APP
   运行指定用例（pytest驱动）
   生成测试报告（Allure jenkins插件）

**App出现crash原因有哪些？**

::

   内存管理错误。内存过低、内存泄露、内存未授权。
   程序逻辑错误。数组越界、堆栈溢出、并发操作、逻辑错误。
   设备兼容。
   网络因素。

**app出现ANR（程序无响应），是什么原因导致的？**

::

   1.耗时的网络访问
   2.大量的数据读写 
   3.数据库操作 
   4.硬件操作（比如camera) 
   5.调用thread的join()方法、sleep()方法、wait()方法或者等待线程锁的时候 
   6.service binder的数量达到上限 
   7.system server中发生WatchDog ANR 
   8.service忙导致超时无响应 
   9.其他线程持有锁，导致主线程等待超时 
   10.其它线程终止或崩溃导致主线程一直等待。

**安卓四大组件？**

::

   Activity、BroadcastReceiver、ContentProvider、Service。
   一个activity就相当于手机屏幕，它是一种包含用户界面的组件、主要用于和用户进行交互。
   应用可以使用BroadcastReceiver对外部事件（如当电话呼入时，或者数据网络可用时）进行接收并做出响应。
   ContentProvider主要用于在不同应用程序之间实现数据共享功能。
   Service实现程序后台运行。

**activity的生命周期？**

::

   running-paused-stopped-killed

   Paused该Activity已失去了焦点但仍然是可见的状态(包括部分可见)。
   Stoped该Activity被另一个Activity完全覆盖的状态，该Activity变得不可见。

.. |image1| image:: ../wanggang.png
