Web开发 9题
===========

|image1|

**浏览器同源策略包括哪几项？**

::

   域名 端口 协议

**跨域header里需要加什么？**

::

   请求header
   Origin: http://foo.example

   响应header
   Access-Control-Allow-Origin:上面origin的地址
   Access-Control-Allow-Methods:POST,GET
   Access-Control-Allow-Credentials:true
   Access-Control-Allow-Headers:Origin,Content-Type,Accept,token,X-Requested-With

**URL由哪三部分组成？**

::

   协议
   主机IP地址(有时也包括端口号)
   资源的地址，如目录和文件名等

**URL和URI的区别是什么？**

::

   URI，Uniform Resource Identifier，统一资源标识符，用来唯一的标识一个资源。
   URL，Uniform Resource Locator，统一资源定位器，是URI的子集，用资源定位的方式实现了URI。

**Cookie和Session的区别？**

::

   Cookie是客户端保存用户信息的一种机制，用来记录用户的一些信息，可以在 Cookie里面记录一个Session ID，来实现Session跟踪。

   Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中。

**如果客户端的浏览器禁用了Cookie怎么办？**

::

   一般这种情况下，会使用一种叫做URL重写的技术来进行会话跟踪，即每次HTTP交互，URL后面都会被附加上一个诸如sid=xxxxx这样的参数，服务端据此来识别用户。

**描述下应用架构？**

::

   从下往上是基础组件、领域服务、应用服务、业务支撑。
   客户端，包括POS、移动端、第三方平台通过网关认证后，接入到应用层。
   应用层包括根据业务拆分的很多个微服务。
   下层是领域服务，包括数据同步下行、事件消费、全域订单查询、核心操作等。
   底层是一些基础组件，包括分布式job、异步文件队列、db sharding路由配置、断路器、缓存、推送、补偿、轨迹埋点、业务监控等。

   延伸：
   埋点是通过植入代码，对用户行为数据进行采集，统计，分析。

**正则匹配的问号是什么意思？**

::

   正则匹配默认是贪婪匹配，也就是匹配尽可能多的字符。
   ?是指非贪婪。

**ORM和DB如何对应？**

::

   类 -- 表
   对象 -- 行
   属性 -- 字段

.. |image1| image:: ../wanggang.png
